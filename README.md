## Мотивация:

По умолчанию утилита autossh не восстанавливает туннель после перезапуска системы или разрыва соединения. Её, конечно, можно запустить через systemd, однако такой вариант, в сравнении с Docker, достаточно избыточен. Поэтому, в качестве альтернативы, решено было запускать autossh в контейнере. К тому же, те решения, которые есть на текущий момент на Github, меня лично не устраивают.

## Предустановка:

Для использования необходимо, чтобы на вашей системе предварительно был установлен Docker и Docker-compose.

Для использования необходимо предварительно сгенерировать пару ключей.

## Установка:

После того как проект был склонирован, необходимо собрать образ. Сделать это можно с помощью следующей команды:

`docker build -t "autossh:autossh" -f autossh.dockerfile --build-arg SSH_PRV_KEY="$(cat /root/.ssh/id_rsa)" . `

где:

- **autossh:autossh** – это имя образа:тэга.
- **ssh.dockerfile** – путь к файлу Dockerfile.
- **build-arg** – аргумент, в который мы передаём приватный ключ через утилиту cat, который в свою очередь располагается на хостовой системе. При этом публичный ключ уже должен быть расположен на целевом узле.

После того как образ был собран, контейнер можно запустить  с помощью следующей команды:

`docker run -d --name autossh --network host --restart unless-stopped autossh:autossh`


